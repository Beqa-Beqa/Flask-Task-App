{% extends 'base.html' %}

<!-- Title -->
{% block title %}Homepage{% endblock %}

<!-- Styles -->
{% block styles %}
<link rel="stylesheet" href="{{ url_for('static', filename=styles) }}">
{% endblock %}

<!-- Content -->
{% block content %}

<main class="py-3 px-4">
    <div class="w-100 d-flex justify-content-between">
        <h1>Hello {{ current_user.username }}, Welcome to our flask app!</h1>
        <button data-logout-url="{{ url_for('logout') }}"  class="btn btn-outline-info" onclick="handleLogout(event)">Logout</button>
    </div>
    <div class="w-100 d-flex flex-column align-items-center">
        <h2 class="mt-4">Tasks</h2>
        <form class="w-100 d-flex flex-column align-items-center gap-2" action="{{ url_for('upload_task') }}" method="post">
            <input type="text" name="title" placeholder="Title">
            <textarea type="text" name="description" placeholder="Description"></textarea>
            <input type="submit" value="Upload a task">
        </form>
        <div class="w-100 d-flex flex-column align-items-center">
            {% for task in tasks %}
            <div class="w-50 mt-4 d-flex flex-column align-items-center bg-secondary bg-gradient rounded-4 text-light">
                <h3>{{ task.title }}</h3>
                <p>{{ task.description }}</p>
                <small>Task added by: {{ current_user.username }}</small>
            </div>
            {% endfor %}
        </div>
    </div>
</main>
    
{% endblock  %}


<!-- Scripts -->
{% block scripts %}
<script src="{{ url_for('static', filename=scripts) }}"></script>
{% endblock %}